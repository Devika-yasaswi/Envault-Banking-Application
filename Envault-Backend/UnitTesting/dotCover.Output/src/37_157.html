<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\ENVAULT\Envault-Backend\CoreModels\Entities\ApplicatonDBContext.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection.Emit;
using System.Text;
using System.Threading.Tasks;

namespace CoreModels.Entities
{
    public class ApplicationDBContext : DbContext
    {
        public ApplicationDBContext(){}
        public ApplicationDBContext(DbContextOptions&lt;ApplicationDBContext&gt; options) : base(options)
        {
        }
        public virtual DbSet&lt;BasicDetailsEntity&gt; BasicDetails { get; set; }
        public virtual DbSet&lt;CustomerAddressEntity&gt; CustomerAddresses { get; set; }
        public virtual DbSet&lt;CustomerFamilyAndNomineeDetailsEntity&gt; CustomerFamilyAndNominees { get; set; }
        public virtual DbSet&lt;AccountsEntity&gt; Accounts { get; set; }
        public virtual DbSet&lt;AccountTypeEntity&gt; AccountTypes { get; set; }
        public virtual DbSet&lt;BranchEntity&gt; Branches { get; set; }
        public virtual DbSet&lt;TransactionsEntity&gt; Transactions { get; set; }
        public virtual DbSet&lt;DepositRatesEntity&gt; DepositRates { get; set; }
        public virtual DbSet&lt;LoginCredentialsEntity&gt; LoginCredentials { get; set; }
        public virtual DbSet&lt;KYCEntity&gt; KYC {  get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.CustomerAddress).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;CustomerAddressEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.CustomerFamilyAndNomineeDetails).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;CustomerFamilyAndNomineeDetailsEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.LoginCredentials).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;LoginCredentialsEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.KYC).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;KYCEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.BasicDetails).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.AccountTypes).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.AccountTypeId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.Branches).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.BranchID);
            modelBuilder.Entity&lt;TransactionsEntity&gt;().HasOne(a =&gt; a.SenderAccount).WithMany(a =&gt; a.SenderTransactions).HasForeignKey(a =&gt; a.SenderAccountNumber);
            modelBuilder.Entity&lt;TransactionsEntity&gt;().HasOne(a =&gt; a.ReceiverAcccount).WithMany(a =&gt; a.ReceiverTransactions).HasForeignKey(a=&gt; a.ReceiverAccountNumber);
            base.OnModelCreating(modelBuilder);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,38,1],[13,38,13,39,1],[13,39,13,40,1],[14,87,14,100,0],[15,9,15,10,0],[16,9,16,10,0],[17,65,17,69,0],[17,70,17,74,0],[18,73,18,77,0],[18,78,18,82,0],[19,97,19,101,0],[19,102,19,106,0],[20,57,20,61,0],[20,62,20,66,0],[21,64,21,68,0],[21,69,21,73,0],[22,55,22,59,0],[22,60,22,64,0],[23,65,23,69,0],[23,70,23,74,0],[24,65,24,69,0],[24,70,24,74,0],[25,73,25,77,0],[25,78,25,82,0],[26,48,26,52,0],[26,53,26,57,0],[29,9,29,10,0],[30,13,30,171,0],[31,13,31,203,0],[32,13,32,173,0],[33,13,33,147,0],[34,13,34,138,0],[35,13,35,141,0],[36,13,36,132,0],[37,13,37,162,0],[38,13,38,168,0],[39,13,39,48,0],[40,9,40,10,0]]);
    </script>
  </body>
</html>