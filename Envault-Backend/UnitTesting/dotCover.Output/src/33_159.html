<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\ENVAULT\Envault-Backend\CoreModels\Entities\ApplicatonDBContext.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Microsoft.EntityFrameworkCore;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Reflection.Emit;
using System.Text;
using System.Threading.Tasks;

namespace CoreModels.Entities
{
    public class ApplicationDBContext : DbContext
    {
        public ApplicationDBContext(){}
        public ApplicationDBContext(DbContextOptions&lt;ApplicationDBContext&gt; options) : base(options)
        {
        }
        public virtual DbSet&lt;BasicDetailsEntity&gt; BasicDetails { get; set; }
        public DbSet&lt;CustomerAddressEntity&gt; CustomerAddresses { get; set; }
        public DbSet&lt;CustomerFamilyAndNomineeDetailsEntity&gt; CustomerFamilyAndNominees { get; set; }
        public DbSet&lt;AccountsEntity&gt; AccountDetails { get; set; }
        public DbSet&lt;BranchEntity&gt; BranchEntities { get; set; }
        public DbSet&lt;DepositRatesEntity&gt; DepositRates { get; set; }
        public virtual DbSet&lt;LoginCredentialsEntity&gt; LoginCredentials { get; set; }
        public DbSet&lt;KYCEntity&gt; KYC {  get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.CustomerAddress).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;CustomerAddressEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.CustomerFamilyAndNomineeDetails).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;CustomerFamilyAndNomineeDetailsEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.LoginCredentials).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;LoginCredentialsEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;BasicDetailsEntity&gt;().HasOne(a =&gt; a.KYC).WithOne(a =&gt; a.BasicDetails).HasForeignKey&lt;KYCEntity&gt;(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.BasicDetails).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.CustomerId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.AccountTypes).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.AccountTypeId);
            modelBuilder.Entity&lt;AccountsEntity&gt;().HasOne(a =&gt; a.Branches).WithMany(a =&gt; a.Accounts).HasForeignKey(a =&gt; a.BranchID);
            modelBuilder.Entity&lt;TransactionsEntity&gt;().HasOne(a =&gt; a.SenderAccount).WithMany(a =&gt; a.SenderTransactions).HasForeignKey(a =&gt; a.SenderAccountNumber);
            modelBuilder.Entity&lt;TransactionsEntity&gt;().HasOne(a =&gt; a.ReceiverAcccount).WithMany(a =&gt; a.ReceiverTransactions).HasForeignKey(a=&gt; a.ReceiverAccountNumber);
            base.OnModelCreating(modelBuilder);
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[13,9,13,38,1],[13,38,13,39,1],[13,39,13,40,1],[14,87,14,100,0],[15,9,15,10,0],[16,9,16,10,0],[17,65,17,69,0],[17,70,17,74,0],[18,65,18,69,0],[18,70,18,74,1],[19,89,19,93,0],[19,94,19,98,1],[20,55,20,59,0],[20,60,20,64,1],[21,53,21,57,0],[21,58,21,62,1],[22,57,22,61,0],[22,62,22,66,1],[23,73,23,77,0],[23,78,23,82,0],[24,40,24,44,0],[24,45,24,49,1],[27,9,27,10,0],[28,13,28,171,0],[29,13,29,203,0],[30,13,30,173,0],[31,13,31,147,0],[32,13,32,138,0],[33,13,33,141,0],[34,13,34,132,0],[35,13,35,162,0],[36,13,36,168,0],[37,13,37,48,0],[38,9,38,10,0]]);
    </script>
  </body>
</html>